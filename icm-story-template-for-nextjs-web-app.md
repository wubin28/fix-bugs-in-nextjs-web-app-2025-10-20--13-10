## Promptyoo-1 Web应用用户故事集

### 用户故事1：基础提示词优化功能

**<用户故事>**
As a **AI提示词使用者**
I want **输入原始提示词并获得基础优化后的提示词**
So that **我可以快速为提示词添加专家角色、引用要求和防幻觉提示，而无需手动输入冗长的后缀**
**</用户故事>**

**<验收条件1>**
Given 用户已打开Promptyoo-1应用界面
When 用户在"Your prompt to be optimized"输入框中输入"请为我推荐几个提示词优化工具"，并点击"Optimize prompt"按钮
Then 系统应在"Optimized prompt"区域显示"你是专家。请为我推荐几个提示词优化工具。请提供主要观点的网页链接,以便核实。如遇不确定信息，请如实告知，不要编造。"
**</验收条件1>**

**<验收条件2>**
Given 用户已打开Promptyoo-1应用界面
When 用户未在"Your prompt to be optimized"输入框中输入任何内容，并点击"Optimize prompt"按钮
Then 系统应提示该输入框为必填项，且不执行优化操作
**</验收条件2>**

**<验收条件3>**
Given 系统已在"Optimized prompt"区域显示优化后的提示词
When 用户点击该区域右上角的"Copy"按钮
Then 优化后的提示词应被复制到系统剪贴板
**</验收条件3>**

---

### 用户故事2：开启新的提示词优化

**<用户故事>**
As a **已完成一次提示词优化的用户**
I want **点击"New optimization"按钮清空当前输入和结果**
So that **我可以开始新的提示词优化任务，而无需手动清除旧内容**
**</用户故事>**

**<验收条件1>**
Given 用户已完成一次提示词优化，"Your prompt to be optimized"输入框和"Optimized prompt"结果区均有内容
When 用户点击左侧边栏的"New optimization"按钮
Then "Your prompt to be optimized"输入框应清空并显示占位符'e.g. "recommend me some prompt optimization tools"'，且"Optimized prompt"区域应显示默认提示"Your Optimized prompt will be displayed here. Optimize your prompt now!"
**</验收条件1>**

---

### 用户故事3：用户注册功能

**<用户故事>**
As a **未注册的访客用户**
I want **点击"Sign up"按钮进行账号注册**
So that **我可以登录系统并保存我的提示词优化历史记录**
**</用户故事>**

**<验收条件1>**
Given 用户未登录状态
When 用户点击界面左下角的"Sign up"按钮
Then 界面中心应显示注册界面，包含用户名输入框、两次密码确认输入框，以及底部的"Sign in"链接
**</验收条件1>**

**<验收条件2>**
Given 用户在注册界面输入了有效的用户名和两次相同的密码
When 用户提交注册表单
Then 系统应创建新账号并为用户分配默认头像，自动完成登录，界面左下角显示用户头像和"My profile"
**</验收条件2>**

---

### 用户故事4：用户登录功能

**<用户故事>**
As a **已注册但未登录的用户**
I want **点击"Sign in"按钮进行登录**
So that **我可以访问我保存的提示词优化历史记录**
**</用户故事>**

**<验收条件1>**
Given 用户未登录状态
When 用户点击界面左下角的"Sign in"按钮
Then 界面中心应显示登录界面，包含用户名和密码输入框，以及底部的"Sign up"链接
**</验收条件1>**

**<验收条件2>**
Given 用户在登录界面输入了正确的用户名和密码
When 用户提交登录表单
Then 系统应完成登录，界面左下角显示用户头像和"My profile"，左侧边栏显示该用户的历史记录
**</验收条件2>**

---

### 用户故事5：用户资料修改功能

**<用户故事>**
As a **已登录的用户**
I want **修改我的头像和密码**
So that **我可以个性化我的账户并保护账户安全**
**</用户故事>**

**<验收条件1>**
Given 用户已登录
When 用户点击左下角"My profile"，在弹出菜单中点击"Settings"
Then 界面中心应显示用户资料修改界面，包含更换头像和修改密码功能
**</验收条件1>**

**<验收条件2>**
Given 用户在资料修改界面输入了两次相同的新密码
When 用户提交密码修改
Then 系统应更新用户密码，且无需验证原密码
**</验收条件2>**

**<验收条件3>**
Given 用户在资料修改界面选择了新头像
When 用户提交头像更改
Then 系统应更新用户头像，且新头像应立即显示在界面左下角
**</验收条件3>**

---

### 用户故事6：用户登出功能

**<用户故事>**
As a **已登录的用户**
I want **点击"Log out"退出登录**
So that **我可以保护我的账户隐私，且清空本地显示的历史记录**
**</用户故事>**

**<验收条件1>**
Given 用户已登录且左侧边栏显示历史记录
When 用户点击"My profile"菜单中的"Log out"选项
Then 系统应退出登录，界面左下角恢复显示"Sign in"和"Sign up"按钮，左侧边栏的历史记录应清空并显示"No history yet"
**</验收条件1>**

---

### 用户故事7：界面语言切换功能

**<用户故事>**
As a **中文或英文用户**
I want **点击语言切换按钮在中英文之间切换**
So that **我可以使用我熟悉的语言操作应用**
**</用户故事>**

**<验收条件1>**
Given 应用界面默认显示为英文
When 用户点击界面右上角从右向左第二个按钮（语言切换按钮）
Then 界面所有文字应切换为中文显示
**</验收条件1>**

**<验收条件2>**
Given 应用界面当前显示为中文
When 用户再次点击语言切换按钮
Then 界面所有文字应切换回英文显示
**</验收条件2>**

---

### 用户故事8：界面主题切换功能

**<用户故事>**
As a **对界面显示有偏好的用户**
I want **点击主题切换按钮在浅色和深色模式之间切换**
So that **我可以在不同环境光线下舒适地使用应用**
**</用户故事>**

**<验收条件1>**
Given 应用界面当前为浅色模式
When 用户点击界面右上角最右侧的模式切换按钮
Then 界面应切换为深色模式
**</验收条件1>**

**<验收条件2>**
Given 应用界面当前为深色模式
When 用户再次点击模式切换按钮
Then 界面应切换回浅色模式
**</验收条件2>**

---

### 用户故事9：智能提示词优化功能（使用DeepSeek API）

**<用户故事>**
As a **希望获得高质量优化提示词的用户**
I want **使用DeepSeek API进行智能提示词优化**
So that **我可以获得更专业、更完整的优化提示词，而不仅仅是简单的文本拼接**
**</用户故事>**

**<验收条件1>**
Given 用户已输入原始提示词"请为我推荐几个提示词优化工具"
When 用户点击"Optimize prompt"按钮，且DeepSeek API服务正常
Then 系统应调用DeepSeek API，使用智能提示词优化模式，并在"Optimized prompt"区域返回类似"你是人工智能领域的专家，请为我推荐几个实用的提示词优化工具，并简要说明它们的主要功能和优势。请提供相关工具的官方网站或权威评测链接以便核实。如遇不确定信息，请如实告知，不要编造。"的优化结果
**</验收条件1>**

**<验收条件2>**
Given 用户已输入原始提示词
When 用户点击"Optimize prompt"按钮，但DeepSeek API访问失败（如网络问题、API密钥无效或服务繁忙）
Then 系统应自动切换到"基础提示词优化模式"，返回按照第一阶段规则优化的提示词
**</验收条件2>**

**<验收条件3>**
Given 用户已点击"Optimize prompt"按钮，DeepSeek API开始返回优化结果
When DeepSeek API以流式方式返回数据
Then 用户应在"Optimized prompt"区域看到文字逐字呈现的效果，而不是等待全部内容返回后才显示
**</验收条件3>**

---

### 用户故事10：提示词优化历史记录自动保存

**<用户故事>**
As a **已登录的用户**
I want **系统自动保存每次提示词优化记录到Browser Storage**
So that **我可以随时查看和重用之前的优化记录**
**</用户故事>**

**<验收条件1>**
Given 用户已登录并完成一次提示词优化
When 优化结果显示完成后
Then 系统应自动将该记录（包含原始提示词和优化后的提示词）保存到Browser Storage，并将其置顶显示在左侧边栏"Today"分组中
**</验收条件1>**

**<验收条件2>**
Given 用户的原始提示词为"这是一个超过三十个汉字的非常长的提示词内容示例文本用于测试标题截取功能是否正常工作"
When 系统保存该历史记录
Then 历史记录标题应显示为"这是一个超过三十个汉字的非常长的提示词内容示例文本用于测试标题截取功能"（前30个汉字）
**</验收条件2>**

**<验收条件3>**
Given 系统中已存在标题为"推荐提示词工具"的历史记录
When 用户再次优化原始提示词"推荐提示词工具"
Then 系统应允许保存重复标题的历史记录
**</验收条件3>**

---

### 用户故事11：查看历史优化记录

**<用户故事>**
As a **拥有历史记录的已登录用户**
I want **点击左侧边栏的历史记录查看详情**
So that **我可以回顾之前的优化结果并复制使用**
**</用户故事>**

**<验收条件1>**
Given 左侧边栏显示多条历史记录
When 用户点击某条历史记录
Then 右侧区域应显示该记录的原始提示词和优化后的提示词，该历史记录应以浅灰色背景标记为已选中状态，且"Optimize prompt"按钮应处于禁用状态
**</验收条件1>**

**<验收条件2>**
Given 左侧边栏某条历史记录的标题超过16个汉字
When 用户将鼠标悬停在该历史记录上
Then 应显示一个黑底白字的悬浮提示，显示该标题的前30个汉字
**</验收条件2>**

**<验收条件3>**
Given 用户正在查看某条历史记录
When 用户点击"Optimized prompt"区域右上角的"Copy"按钮
Then 该历史记录的优化后提示词应被复制到系统剪贴板
**</验收条件3>**

---

### 用户故事12：编辑历史记录标题

**<用户故事>**
As a **拥有历史记录的已登录用户**
I want **编辑历史记录的标题**
So that **我可以为历史记录设置更有意义的标题，方便日后查找**
**</用户故事>**

**<验收条件1>**
Given 用户将鼠标悬停在某条历史记录上
When 用户点击显示的编辑图标
Then 该历史记录标题应变为可编辑状态
**</验收条件1>**

**<验收条件2>**
Given 历史记录标题处于可编辑状态，用户修改了标题内容
When 用户按下回车键
Then 新标题应保存到Browser Storage并更新到左侧边栏显示
**</验收条件2>**

**<验收条件3>**
Given 历史记录标题处于可编辑状态，用户清空了标题内容
When 用户按下回车键
Then 系统应保持原标题不变
**</验收条件3>**

---

### 用户故事13：删除历史记录

**<用户故事>**
As a **拥有历史记录的已登录用户**
I want **删除不需要的历史记录**
So that **我可以保持历史记录列表整洁，只保留有用的记录**
**</用户故事>**

**<验收条件1>**
Given 用户将鼠标悬停在某条历史记录上
When 用户点击显示的红色垃圾桶图标
Then 系统应弹出确认对话框，显示"是否删除？"及要删除的记录标题
**</验收条件1>**

**<验收条件2>**
Given 删除确认对话框已弹出
When 用户点击确认删除
Then 该记录应从Browser Storage和左侧边栏中永久移除
**</验收条件2>**

**<验收条件3>**
Given 删除确认对话框已弹出
When 用户点击取消
Then 对话框应关闭，历史记录应保持不变
**</验收条件3>**

---

### 技术约束说明

**<技术栈要求>**
- **框架**：Next.js（2025年主流版本）作为全栈开发框架
- **部署方式**：本地计算机浏览器运行
- **数据存储**：Browser Storage（用于用户数据和历史记录）
- **AI服务**：DeepSeek API（用于智能提示词优化）
- **启动方式**：单应用启动，无需分别启动前端和后端
**</技术栈要求>**

